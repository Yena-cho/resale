# 기능
* 다모아 전문서버 기능을 수행한다.
* 서버는 전문을 수신만 한다.
* 수신한 전문은 통지전문, 조회응답전문, 관리전문이다.
* 관리전문인 경우 무시한다.
* 추후 기능이 정교하게 작성할 때 Command패턴으로 응답전문을 생성하게 하자.
* 클라이언트는 전문을 송신만 한다.
* 웹을 통해 조회전문을 전송한다. 비동기로 오는 조회응답전문을 동기로 처리하게 한다.

# TODO
* 전문 레이아웃을 xml을 통해 설정가능하게 해 보자. (Xstream 이용)
* 통지전문을 처리하는 부분을 정교하게 처리해 보자.
* Command 구현과 등록을 좀 더 부드럽게 처리해 보자.
* FSM 패턴으로 전체 전문 처리 구현...
* 재전송로직 추가..
* 24시간 넘게 부하를 주어 돌려보기... 


# 하고 있는 일
* 맨앞에 4byte 크기필드를 가진 문자열 전문 OK
* 조회,관리,통지 전문 OK
* 전문전송클라이언트,전문수신서버, 1세션으로 구성. OK
* Http 프로토콜로 외부와 통신가능. OK
* 신한은행과 다모아 역할을 하는 각 프로그램 구성 OK
* 배치작업 가능. OK
* 비즈니스로직은 Command 패턴을 사용. CommandFactory가 아닌 SpringContext에서 조회하여 처리하는 식으로 .... OK
* 개시,종료예고,종료,장애, 상태 있음. OK
* 전문 레이아웃 xml로 처리. OK
* 전문 보내는 것은 서버기동이후에 가능하도록 구조개선.. OK
* <del>전송테스트는 HTTP client를 이용하여 해 볼까? </del>
* 스프링부트와 netty, mybatis로 실제 프로그램과 동일한 아키텍쳐 OK
* 전문 charset 설정하여 처리가능하도록 수정. OK
* 전문을 파싱하여 보여주는 화면을 만들어보자. OK

## 진행중
* FSM 으로 상태관리 ING
* 간단한 response 도 처리할 수 있는 구조로 만들어보자. ING
* 개발서버에 올려서 테스트해 볼까?
* xml 파서 온전히 이해하기.. 
* 스프링부트 모니터링 followup..
* <del>HttpClient에는 Pool 로 구현된 클래스가 있다. 추후 HttpInvoker를 이걸로 적당히 구현해 보자. ING</del>
* <del>HttpClient는 직접 사용해도 딱히 문제가 없음.</del>
* OkHttp3로 처리해 보자. ING
 - connectionpool(OK), timeout(OK), post json.
* 펌뱅킹 프로젝트 생성. 
* 펌뱅킹 전문파싱화면 생성.
* 전문 한글추가하여 테스트 수행

 



